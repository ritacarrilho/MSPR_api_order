## Kawa Orders API 

## Participants üë•
- BILLARD M√©lissa
- BRACCIALES-COMBAS Lola
- CARRILHO LAMEIRA Rita
- DIAGNE Sokhna

## Technologie 
- Api en [FastApi](https://fastapi.tiangolo.com/)

## Base de donn√©es
[MySQL](https://www.mysql.com/fr/)

**Nom BDD** : ``order_db``

### Cr√©ation de la base de donn√©e
```python
## De la racine 
py database/scripts/create_BDD.py
```
![](/assets/create_bdd-2.png)

### Mock initial
```
https://615f5fb4f7254d0017068109.mockapi.io/api/v1/orders
```
*Liste de donn√©es de toutes les commandes*

![](/assets/mock.png)

### Mod√®le Conceptuel de Donn√©es (MCD)
![](/assets/mcd.png)

#### Mod√®le Logique de Donn√©es (MLD)
![](/assets/mld.png)

### D√©tails tables

#### Table ``orders``

id_order (INT, cl√© primaire) : Identifiant unique pour chaque commande. 

customerId (INT) : Identifiant du client qui a pass√© la commande. 

*Ce champ fait r√©f√©rence √† l'ID du client dans le microservice de gestion des clients. Il permet d'associer chaque commande √† un client sp√©cifique.*

createdAt (TIMESTAMP) : Date et heure de cr√©ation de la commande. 

#### Table ``order_products``

id_order_products (INT, cl√© primaire) : Identifiant unique de l'entr√©e de produit dans la commande.

orderId (INT) : Identifiant de la commande √† laquelle ce produit est associ√©. 

*Ce champ fait r√©f√©rence √† l'ID de la commande dans la table orders, permettant de lier chaque produit √† sa commande correspondante.*

productId (INT) : Identifiant du produit command√©. 

*Ce champ fait r√©f√©rence √† l'ID du produit dans le microservice de gestion des produits. Il permet d'associer chaque produit √† sa description et ses d√©tails dans le microservice appropri√©.*

quantity (INT) : Quantit√© de ce produit dans la commande. 

*Ce champ indique combien d'unit√©s du produit ont √©t√© command√©es, essentiel pour la gestion des stocks et le traitement des commandes.*

## Endpoints de l'API
![](/assets/api-endpoint.png)


## Docker

1) Build container : ```docker-compose build```

2) Test avec coverage : ```docker-compose up```


## Commandes utiles

### Lancer l'api en local
```python
# Dans le fichier app
fastapi dev main.py
# ou
# √Ä la racine
 uvicorn app.main:app --reload
```

### Effacer fichiers DS_Store
```java
find . -name .DS_Store -print0 | xargs -0 git rm -f --ignore-unmatch
```
